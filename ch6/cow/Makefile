# cow Makefile

CC=gcc
CFLAGS=-I. -Wall -Wextra -Wpedantic
CXXFLAGS=-I.
DEPS=calc.h
RM=rm

# For using getword() as listed in the text
#CXXFLAGS += -DORIG_GETWORD

# These are the objects generated by the build process
objects = getch.o main.o ch6_strdup.o getword.o talloc.o tree.o

all: cow ex6-2

# Compile and link the cow app
cow: getch.o main.o ch6_strdup.o getword.o talloc.o tree.o
	$(CC) -o cow getch.o main.o ch6_strdup.o getword.o talloc.o tree.o

# Compile and link the exercise 6.2 solution
ex6-2: getch.o ex6-2.o ch6_strdup.o getword.o talloc.o tree.o
	$(CC) -o ex6-2 getch.o ex6-2.o ch6_strdup.o getword.o talloc.o tree.o

# Compile and link the exercise 6.3 solution
ex6-3: getch.o ex6-3.o ch6_strdup.o ex6_3_getword.o talloc.o ex6_3_tree.o
	$(CC) -o ex6-3 getch.o ex6-3.o ch6_strdup.o ex6_3_getword.o talloc.o ex6_3_tree.o


# Run clean when asked, no matter what
.PHONY:	clean
clean:
	-$(RM) $(objects) cow ex6-2

# Remove ojbect files only
.PHONY: clobber
clobber:
	-$(RM) $(objects)	

